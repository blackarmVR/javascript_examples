<html>
    <head>
        <meta content="texPost/html;charset=utf-8" http-equiv="Content-Type">
        <meta content="utf-8" http-equiv="encoding">
        <script src="https://d3js.org/d3.v6.js"></script>
        <style>
        </style>
    </head>
    <body>
        <svg id = "canvas" width = "1600" height = "1000" xPosmlns = "http://www.w3.org/2000/svg"></svg>
        <script>

    var htmlElement;
    var idName;
    var loop;
    var svgCanvas;
    var svgElement;
    var sysid;
    var xPos;
    svgCanvas = d3.select("#canvas");
    for (loop = 0; loop < 10; loop += 1){
        xPos = 100 + (loop * 110);
        sysid = "testing_" + loop.toString();
        // create basic rectangle
        idName = "rect_" + loop.toString();
        svgElement = svgCanvas.append("rect")
        .attr("x", xPos)
        .attr("y", 100)
        .attr("width", 100)
        .attr("height", 100)
        .attr("id", idName)
        .style("fill", "red");
        // add mouseover
        svgElement.append("svg:title").text(idName);
        // make the cursor show that it is clickable
        svgElement.style("cursor", "pointer"); 
        // add event listener and store sysid in attribute
        htmlElement = document.getElementById(idName);
        if (htmlElement){
            htmlElement.addEventListener("click", openPage, false);
            htmlElement.setAttribute("sysid", sysid);
        }
        // create text
        idName = "text_" + loop.toString();
        svgElement = svgCanvas.append("text")
        .attr("x", xPos + 50)
        .attr("y", 170)
        .attr("id", idName)
        .style("fill", "black")
        .style("font-size", 40)
        .style("font-weight", 300)
        .style("text-anchor", "middle")
        .text(loop);
        // add mouseover
        svgElement.append("svg:title").text(idName);
        // make the cursor show that it is clickable
        svgElement.style("cursor", "pointer"); 
        // add event listener and store sysid in attribute
        htmlElement = document.getElementById(idName);
        if (htmlElement){
            htmlElement.addEventListener("click", openPage, false);
            htmlElement.setAttribute("sysid", sysid);
        }
    }

    function openPage(mouseEvent){
        var elem;
        var sysid;
        elem = document.elementFromPoint(mouseEvent.x, mouseEvent.y);
        sysid = elem.getAttribute("sysid");
        if (sysid){
            window.open("nav_to.do?uri=%2Falm_hardware.do%3Fsys_id%3D" + sysid);
        }
    }

        </script>
    </body>
</html>